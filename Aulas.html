<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AUTO ESCOLA GUARDA | TODAS AS AULAS</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
  <style>
    /* Estilos b√°sicos */
    :root {
        --primary-color: #901090; /* Magenta */
        --bg-color-wrapper: #1c1c1c; /* Preto suave (Dark Theme) */
        --bg-color-main: #e9ecef; /* Fundo suave */
    }
    
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background-color: var(--bg-color-main);
        padding: 20px;
    }
    
    h1 {
        text-align: center;
        color: var(--primary-color); 
        margin-bottom: 30px;
        font-weight: 800;
        font-size: 2.2em;
        text-transform: uppercase;
    }
    
    /* Container principal do conte√∫do */
    .content-wrapper {
        max-width: 900px;
        margin: 20px auto;
        background: var(--bg-color-wrapper); 
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5); 
        color: #cccccc; 
        display: none; 
    }
    
    /* T√≠tulos de Se√ß√£o */
    h2 {
        color: #ffffff;
        /* Estilo de t√≠tulo mais moderno */
        border-left: 5px solid var(--primary-color); 
        padding-left: 15px;
        padding-top: 5px;
        margin-top: 35px;
        margin-bottom: 20px;
        font-size: 1.5em;
        font-weight: 700;
    }
    
    .aula-list {
        list-style-type: none;
        padding: 0;
    }
    
    /* Lista de Aulas Aprimorada */
    .aula-list li {
        background-color: #333;
        margin-bottom: 10px;
        border-radius: 6px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        transition: transform 0.2s, background-color 0.2s;
    }
    .aula-list li:hover {
        background-color: #444;
        transform: scale(1.01); /* Leve zoom ao passar o mouse */
        box-shadow: 0 5px 10px rgba(0, 0, 0, 0.3);
    }
    
    .aula-list a {
        display: flex; /* Flex para alinhamento */
        padding: 15px 15px; /* Mais padding */
        text-decoration: none;
        color: #f0f0f0;
        font-weight: 600;
        font-size: 1.05em;
        align-items: center;
    }
    .aula-list a::before {
        /* Simula um √≠cone de bullet ou marcador */
        content: '‚ñ∂'; 
        color: var(--primary-color);
        margin-right: 10px;
        font-size: 0.8em;
    }
    
    /* Controles (Bot√£o Sair) */
    .header-controls {
        display: flex;
        justify-content: flex-end;
        gap: 10px;
        margin-bottom: 20px;
        display: none; 
    }
    .header-controls button { 
        padding: 10px 15px;
        border: none;
        border-radius: 6px;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s;
    }
    .header-controls button:nth-child(1) { 
        background-color: #dc3545;
        color: white;
    }
    .header-controls button:nth-child(1):hover {
        background-color: #c82333;
    }
</style>
</head>
<body>
    
    <div class="header-controls">
        <button onclick="logout()">Sair</button>
    </div>

    <h1>Cat√°logo Completo de Aulas</h1>

    <div class="content-wrapper">
        
        <h2>üö® Primeiros Socorros</h2>
        <ul class="aula-list">
            <li><a href="javascript:void(0)" onclick="redirectToVideo('aula1')">Aula 1: Primeiros Socorros (Video 1)</a></li>
            <li><a href="javascript:void(0)" onclick="redirectToVideo('aula2')">Aula 2: Primeiros Socorros (Video 2)</a></li>
            <li><a href="javascript:void(0)" onclick="redirectToVideo('aula3')">Aula 3: Primeiros Socorros (Video 3)</a></li>
            <li><a href="javascript:void(0)" onclick="redirectToVideo('aula4')">Aula 4: Primeiros Socorros (Video 4)</a></li>
            <li><a href="javascript:void(0)" onclick="redirectToVideo('aula5')">Aula 5: Primeiros Socorros (Video 5)</a></li>
        </ul>
        
        <h2>üöß Dire√ß√£o Defensiva</h2>
        <ul class="aula-list">
            <li><a href="javascript:void(0)" onclick="redirectToVideo('aula6')">Aula 6: Dire√ß√£o Defensiva (Video 1)</a></li>
            <li><a href="javascript:void(0)" onclick="redirectToVideo('aula7')">Aula 7: Dire√ß√£o Defensiva (Video 2)</a></li>
            <li><a href="javascript:void(0)" onclick="redirectToVideo('aula8')">Aula 8: Dire√ß√£o Defensiva (Video 3)</a></li>
        </ul>
        
        <h2>‚öñÔ∏è Legisla√ß√£o de Tr√¢nsito / Infra√ß√µes</h2>
        <ul class="aula-list">
            <li><a href="javascript:void(0)" onclick="redirectToVideo('aula9')">Aula 9: Infra√ß√µes e Penalidades (Video 1)</a></li>
            <li><a href="javascript:void(0)" onclick="redirectToVideo('aula10')">Aula 10: Infra√ß√µes e Penalidades (Video 2)</a></li>
            <li><a href="javascript:void(0)" onclick="redirectToVideo('aula11')">Aula 11: Infra√ß√µes e Penalidades (Video 3)</a></li>
            <li><a href="javascript:void(0)" onclick="redirectToVideo('aula12')">Aula 12: Infra√ß√µes e Penalidades (Video 4)</a></li>
        </ul>
        
        <h2>üëç Normas e condutas</h2>
        <ul class="aula-list">
            <li><a href="javascript:void(0)" onclick="redirectToVideo('aula13')">Aula 13: Normas e condutas (Video 1)</a></li>
            <li><a href="javascript:void(0)" onclick="redirectToVideo('aula14')">Aula 14: Normas e condutas (Video 2)</a></li>
            <li><a href="javascript:void(0)" onclick="redirectToVideo('aula15')">Aula 15: Normas e condutas (Video 3)</a></li>
            <li><a href="javascript:void(0)" onclick="redirectToVideo('aula16')">Aula 16: Normas e condutas (Video 4)</a></li>
            <li><a href="javascript:void(0)" onclick="redirectToVideo('aula17')">Aula 17: Normas e condutas (Video 5)</a></li>
        </ul>

        <p style="margin-top: 30px; text-align: center; color: #777;">**O acesso a esta p√°gina √© liberado ap√≥s a marca√ß√£o da presen√ßa di√°ria.**</p>
    </div>
    
    <script src="script.js"></script>

    <script>
        // üö® NOVO BLOCO: Verifica a presen√ßa ao carregar a p√°gina Aulas.html
        document.addEventListener('DOMContentLoaded', async () => {
            const hasAccess = localStorage.getItem('vimeo_access_granted');
            const contentWrapper = document.querySelector('.content-wrapper');
            const headerControls = document.querySelector('.header-controls');
            
            // 1. Verifica se h√° token de acesso (login)
            if (!hasAccess) {
                 // Se n√£o logou, volta para o login
                window.location.href = 'index.html'; 
                return;
            }

            // 2. Verifica o status da presen√ßa no servidor
            const presenceStatus = await isPresenceMarked();

            if (!presenceStatus) {
                // Se a presen√ßa N√ÉO estiver marcada, bloqueia e redireciona para a p√°gina de v√≠deo (onde se marca a presen√ßa)
                alert('Voc√™ precisa marcar sua presen√ßa di√°ria antes de acessar o Cat√°logo de Aulas. Redirecionando...');
                window.location.href = 'videos.html'; 
                return;
            }
            
            // Se ambos (Login e Presen√ßa) estiverem OK, exibe o conte√∫do
            if (headerControls) headerControls.style.display = 'flex';
            if (contentWrapper) contentWrapper.style.display = 'block';

        });
    </script>

</body>
</html>

